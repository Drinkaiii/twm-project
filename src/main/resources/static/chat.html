<!DOCTYPE html>
<html lang="zh-hant">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chatbot</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Noto+Sans+KR:wght@400;500;700&family=Noto+Sans+SC:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&family=Noto+Sans:wght@400;500;700&display=swap" />
    <link rel="stylesheet" href="./assets/commonElement/css/reset.css" />
    <link rel="stylesheet" href="./assets/commonElement/css/preset_colors.css" />
    <link rel="stylesheet" href="./assets/commonElement/css/preset_fonts.css" />
    <link rel="stylesheet" href="./assets/commonElement/css/header.css" />
    <link rel="stylesheet" href="./assets/css/chat.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="./assets/js/chat.js"></script>
</head>

<body>
    <div class="wrap">
        <header>
            <a class="logo" href="/">
                <img src="./assets/commonElement/img/Logo_twm_White.svg" alt="台灣大哥大" />
            </a>
        </header>
        <!-- 對話列表 -->
        <main>
            <ul class="chat">
                <li class="msg">
                    <i class="avatar"></i>
                    <div class="dialog">
                        <div class="content">
                            <!-- 訊息內文 -->
                            <p>訊息內文訊息內文<a href="##">行內連結</a></p>

                            <!-- 粗體字訊息內文 -->
                            <b>粗體字訊息內文粗體字訊息內文</b>
                        </div>
                        <time>01:27</time>
                    </div>
                </li>
                <li class="msg">
                    <i class="avatar"></i>
                    <div class="dialog">
                        <div class="content">
                            <!-- 無序列表 <ul>...</ul> -->
                            <ul>
                                <li>列表文字<a href="##">行內連結</a></li>
                                <li>列表文字
                                    <ul>
                                        <li>第二層 列表文字</li>
                                        <li>第二層 列表文字</li>
                                    </ul>
                                </li>
                            </ul>

                            <!-- 有序列表 <ol>...</ol> -->
                            <ol>
                                <li>列表文字</li>
                                <li>列表文字</li>
                            </ol>
                        </div>
                        <time>01:27</time>
                    </div>
                </li>
                <li class="msg">
                    <i class="avatar"></i>
                    <div class="dialog">
                        <div class="content">
                            <p>請選擇以下選項：</p>
                            <!-- 按鈕 -->
                            <a class="btn" href="##" target="_blank">A. 按鈕文字</a>
                            <a class="btn" href="##" target="_blank">B. 按鈕文字</a>
                            <a class="btn" href="##" target="_blank">C. 按鈕文字</a>
                        </div>
                        <time>01:28</time>
                    </div>
                </li>
                <!--使用者訊息 <li class="msgRight">...<li> -->
                <li class="msg msgRight">
                    <div class="dialog">
                        <div class="content">使用者訊息內文</div>
                        <time>02:00</time>
                    </div>
                </li>

            </ul>
        </main>

        <div class="chatBar">
            <!-- 浮動區塊（用於初次或尚未開始對話） -->
            <div class="float">
                <div>
                    <!-- 訊息內文 -->
                    <p>訊息內文訊息內文<a href="##">行內連結</a></p>

                    <!-- 列表 -->
                    <ol>
                        <li>列表文字<a href="##">行內連結</a></li>
                        <li>列表文字<a href="##">行內連結</a></li>
                    </ol>

                    <!-- 按鈕 -->
                    <button class="btn">A. 按鈕文字</button>
                    <button class="btn">B. 按鈕文字</button>
                    <button class="btn">C. 按鈕文字</button>
                </div>
            </div>

            <!-- 輸入框 -->
            <form class="textareaBox">
                <div>
                    <textarea placeholder="輸入訊息..."></textarea>
                    <button>送出</button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sendButton = document.querySelector('.textareaBox button');
            const messageInput = document.querySelector('.textareaBox textarea');
            const messageContainer = document.querySelector('.chat')
            sendButton.addEventListener('click', function(event) {
                event.preventDefault(); // 阻止表單默認提交的行為
                const userMessage = messageInput.value; //用戶輸入欄位的值
                if (userMessage === "" || userMessage === null) {
                    return;
                }
                addMessage(userMessage);
                messageInput.value = "";

                // Send the message to the server
            });

            function addMessage(text){
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const timeString = `${hours}:${minutes}`;

                const li = document.createElement('li');
                li.className = "msg msgRight";
                const dialog = document.createElement('div');
                dialog.className = "dialog";
                const content = document.createElement("div");
                content.className = "content";
                content.textContent = text;
                const time = document.createElement("time");
                time.textContent = timeString;

                dialog.appendChild(content);
                dialog.appendChild(time);
                li.appendChild(dialog);
                messageContainer.appendChild(li);
            }


        });
         //$(document).ready(function () {
         //點擊按鈕或連結後關閉floatBox，示意如下
         //$(".float .btn").on("click", function () {
             //floatBoxClose();
         //});
         //讓捲軸在有新訊息時保持置底，請包在function內
         //scrollDown();
         //});

    </script>
</body>

</html>